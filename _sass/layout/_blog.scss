/* ============================================================================
   COMPONENTS / BLOG.SCSS
   Styles for the blog archive/listing pages.
   ============================================================================ */



.blog-main-content {
  display: flex;
  flex-direction: column;
  gap: var(--sf-8);
}

.blog-sidebar {
  display: none; // Hidden on mobile

  @include breakpoint(lg) {
    display: flex;
    flex-direction: column;
    gap: var(--sf-6);
    // Sticky behavior for the entire sidebar
    position: sticky;
    top: calc(var(--sf-nav-height) + var(--sf-4));
    align-self: start;
    height: calc(100vh - var(--sf-nav-height) - (2 * var(--sf-4)));
    overflow-y: auto; // Allow sidebar to scroll if content is too long
  }
}


/* --- 2. Featured Post Section --- */
.blog-featured-post {
  display: grid;
  gap: var(--sf-6);
  background-color: var(--sf-bg-1);
  border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg);
  overflow: hidden;
  
  @include breakpoint(md) {
    grid-template-columns: 1fr 1fr;
    align-items: center;
  }
  
  &__image-link {
    display: block;
    aspect-ratio: 16/9;
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }
    @include hover {
      img { transform: scale(1.05); }
    }
  }

  &__content {
    padding: var(--sf-6);
    h2 a {
      color: inherit;
      text-decoration: none;
      background-image: linear-gradient(var(--sf-brand), var(--sf-brand));
      background-position: 0% 100%;
      background-repeat: no-repeat;
      background-size: 0% 2px;
      transition: background-size .3s;
    }
    h2 a:hover {
      background-size: 100% 2px;
    }
    p {
      color: var(--sf-fg-2);
      font-size: var(--sf-text-lg);
    }
  }
}


/* --- 3. Main Post Grid --- */
.blog-post-grid {
  display: grid;
  gap: var(--sf-6);
  
  // Mobile: 1 column
  grid-template-columns: 1fr;
  
  // Tablet: 2 columns
  @include breakpoint(sm) {
    grid-template-columns: repeat(2, 1fr);
  }
  
  // Desktop: 3 columns
  @include breakpoint(lg) {
    // When inside the two-column layout, we want the grid to handle its own columns
    grid-template-columns: repeat(2, 1fr);
  }
  @include breakpoint(xl) {
    grid-template-columns: repeat(3, 1fr);
  }
}


/* --- 4. Blog Post Card --- */
.blog-post-card {
  // Uses .sf-card and .sf-card--interactive classes as its base.
  // This SCSS is for the specific content inside the card.
  text-decoration: none;
  
  &__image-link {
    display: block;
    overflow: hidden;
    // Ensure image is the first child to get rounded corners from .sf-card__image
    &:first-child .sf-card__image {
      transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }
  }
  
  // Hover effect for the entire card
  &:hover &__image-link .sf-card__image {
    transform: scale(1.05);
  }

  // Uses .sf-card__body for padding
  
  &__category {
    display: inline-block;
    color: var(--sf-brand);
    font-size: var(--sf-text-sm);
    font-weight: 600;
    margin-bottom: var(--sf-2);
  }

  &__title {
    margin: 0 0 var(--sf-3) 0;
    line-height: var(--sf-leading-tight);
    a {
      color: inherit;
      text-decoration: none;
      // Underline on hover effect
      &::after {
        content: '';
        display: block;
        width: 0;
        height: 2px;
        background: var(--sf-brand);
        transition: width .3s;
      }
      &:hover::after {
        width: 100%;
      }
    }
  }

  &__meta {
    font-size: var(--sf-text-sm);
    color: var(--sf-muted);
    margin-top: auto; // Pushes meta to the bottom of the card body
    padding-top: var(--sf-4);
  }
}

/* --- 5. Pagination --- */
.blog-pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--sf-line-2);
  padding-top: var(--sf-6);
  margin-top: var(--sf-8);

  &__text {
    font-size: var(--sf-text-sm);
    color: var(--sf-muted);
  }

  // Use the existing button styles
  .sf-btn {
    text-decoration: none;
  }
}

/* --- 6. AD PLACEHOLDERS --- */
.ad-placeholder {
  // Uses styles from _post.scss, we just add specific layout ones here
  
  &--leaderboard {
    min-height: 90px;
    margin-bottom: var(--sf-8);
  }

  &--in-feed {
    min-height: 300px;
    display: flex;
    // Ensure it spans a full grid row on multi-column layouts
    @include breakpoint(sm) {
        grid-column: 1 / -1;
    }
  }
  
  &--skyscraper {
    min-height: 600px;
  }
}